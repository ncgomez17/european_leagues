{"ast":null,"code":"import _objectSpread from\"/home/nicolas/Documentos/Si/Practica/european_leagues/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/nicolas/Documentos/Si/Practica/european_leagues/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{InputText}from'primereact/inputtext';import{Button}from'primereact/button';import{Divider}from'primereact/divider';import{classNames}from'primereact/utils';import{useParams,useNavigate}from\"react-router-dom\";import clientesService from'../../services/clientesService';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ClientesDetalle(){var params=useParams();var navigate=useNavigate();var esNuevo=!('dniCliente'in params);var clienteVacio={nombre:\"\",direccion:{domicilio:\"\",localidad:\"\",codigoPostal:\"\",provincia:\"\",telefono:\"\"}};var _useState=useState(clienteVacio),_useState2=_slicedToArray(_useState,2),cliente=_useState2[0],setCliente=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),submitted=_useState4[0],setSubmitted=_useState4[1];useEffect(function(){if(!esNuevo){clientesService.buscarPorDNI(params.dniCliente).then(function(res){return setCliente(res.data);});}},[]);function onInputChange(e,name){var val=e.target&&e.target.value||'';var _cliente=_objectSpread({},cliente);if(name.startsWith('direccion')){var campoDireccion=name.split('.')[1];_cliente.direccion[\"\".concat(campoDireccion)]=val;}else{_cliente[\"\".concat(name)]=val;}setCliente(_cliente);}function onCancelar(event){navigate(\"/clientes\");}function handleSubmit(event){event.preventDefault();setSubmitted(true);if(datosClienteCorrectos(cliente)){if(esNuevo){clientesService.crear(cliente);}else{clientesService.modificar(cliente.dni,cliente);}navigate(\"/clientes\");}}function datosClienteCorrectos(c){return c.dni&&c.nombre;}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"surface-card border-round shadow-2 p-4\",children:[!esNuevo&&/*#__PURE__*/_jsx(\"span\",{className:\"text-900 text-2xl font-medium mb-4 block\",children:\"Detalle de cliente\"}),esNuevo&&/*#__PURE__*/_jsx(\"span\",{className:\"text-900 text-2xl font-medium mb-4 block\",children:\"Nuevo cliente\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-fluid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"dni\",children:\"DNI\"}),/*#__PURE__*/_jsx(InputText,{id:\"dni\",value:cliente.dni,onChange:function onChange(e){return onInputChange(e,'dni');},required:true,autoFocus:true,className:classNames({'p-invalid':submitted&&!cliente.dni})}),submitted&&!cliente.dni&&/*#__PURE__*/_jsx(\"small\",{className:\"p-error\",children:\"Debe indicarse un DNI.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Nombre\"}),/*#__PURE__*/_jsx(InputText,{id:\"name\",value:cliente.nombre,onChange:function onChange(e){return onInputChange(e,'nombre');},required:true,className:classNames({'p-invalid':submitted&&!cliente.nombre})}),submitted&&!cliente.nombre&&/*#__PURE__*/_jsx(\"small\",{className:\"p-error\",children:\"Debe indicarse un nombre.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"domicilio\",children:\"Domicilio\"}),/*#__PURE__*/_jsx(InputText,{id:\"domicilio\",value:cliente.direccion.domicilio,onChange:function onChange(e){return onInputChange(e,'direccion.domicilio');}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"localidad\",children:\"Localidad\"}),/*#__PURE__*/_jsx(InputText,{id:\"localidad\",value:cliente.direccion.localidad,onChange:function onChange(e){return onInputChange(e,'direccion.localidad');}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"codigoPostal\",children:\"C\\xF3digo postal\"}),/*#__PURE__*/_jsx(InputText,{id:\"codigoPostal\",value:cliente.direccion.codigoPostal,onChange:function onChange(e){return onInputChange(e,'direccion.codigoPostal');}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"provincia\",children:\"Provincia\"}),/*#__PURE__*/_jsx(InputText,{id:\"provincia\",value:cliente.direccion.provincia,onChange:function onChange(e){return onInputChange(e,'direccion.provincia');}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-field\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"telefono\",children:\"Tel\\xE9fono\"}),/*#__PURE__*/_jsx(InputText,{id:\"telefono\",value:cliente.direccion.telefono,onChange:function onChange(e){return onInputChange(e,'direccion.telefono');}})]})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-p-3\",children:[/*#__PURE__*/_jsx(Button,{label:\"Cancelar\",icon:\"pi pi-times\",className:\"p-button-outlined mr-2\",onClick:onCancelar}),/*#__PURE__*/_jsx(Button,{label:\"Guardar\",icon:\"pi pi-check\",type:\"submit\"})]})]})]})});}","map":{"version":3,"sources":["/home/nicolas/Documentos/Si/Practica/european_leagues/src/main/frontend/src/components/clientes/clientesDetalle.js"],"names":["React","useState","useEffect","InputText","Button","Divider","classNames","useParams","useNavigate","clientesService","ClientesDetalle","params","navigate","esNuevo","clienteVacio","nombre","direccion","domicilio","localidad","codigoPostal","provincia","telefono","cliente","setCliente","submitted","setSubmitted","buscarPorDNI","dniCliente","then","res","data","onInputChange","e","name","val","target","value","_cliente","startsWith","campoDireccion","split","onCancelar","event","handleSubmit","preventDefault","datosClienteCorrectos","crear","modificar","dni","c"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\n\nimport { InputText } from 'primereact/inputtext';\nimport { Button } from 'primereact/button';\nimport { Divider } from 'primereact/divider';\nimport { classNames } from 'primereact/utils';\n\nimport { useParams, useNavigate } from \"react-router-dom\";\n\nimport clientesService from '../../services/clientesService';\n\nexport default function ClientesDetalle() {\n\n    const params = useParams();\n    const navigate = useNavigate();\n    const esNuevo = !('dniCliente' in params);\n\n    const clienteVacio = { nombre: \"\", direccion: { domicilio: \"\", localidad: \"\", codigoPostal: \"\", provincia: \"\", telefono: \"\" } }\n    const [cliente, setCliente] = useState(clienteVacio);\n    const [submitted, setSubmitted] = useState(false);\n\n\n    useEffect(() => {\n        if (!esNuevo) {\n            clientesService.buscarPorDNI(params.dniCliente).then(res => setCliente(res.data));\n        }\n    }, []);\n\n\n    function onInputChange(e, name) {\n        const val = (e.target && e.target.value) || '';\n        let _cliente = { ...cliente };\n        if (name.startsWith('direccion')) {\n            const campoDireccion = name.split('.')[1];\n            _cliente.direccion[`${campoDireccion}`] = val;\n\n        } else {\n            _cliente[`${name}`] = val;\n        }\n        setCliente(_cliente);\n    }\n\n    function onCancelar(event) {\n        navigate(\"/clientes\");\n    }\n\n    function handleSubmit(event) {\n        event.preventDefault();\n        setSubmitted(true);\n        if (datosClienteCorrectos(cliente)) {\n            if (esNuevo) {\n                clientesService.crear(cliente);\n            } else {\n                clientesService.modificar(cliente.dni, cliente);\n            }\n            navigate(\"/clientes\");\n        }\n    }\n\n    function datosClienteCorrectos(c) {\n        return (c.dni && c.nombre);\n    }\n\n    return (\n        <div>\n            <div className=\"surface-card border-round shadow-2 p-4\">\n                {!esNuevo && <span className=\"text-900 text-2xl font-medium mb-4 block\">Detalle de cliente</span>}\n                {esNuevo && <span className=\"text-900 text-2xl font-medium mb-4 block\">Nuevo cliente</span>}\n\n                <form onSubmit={handleSubmit} >\n                    <div className=\"p-fluid\">\n                        <div className=\"p-field\">\n                            <label htmlFor=\"dni\" >DNI</label>\n                            <InputText id=\"dni\" value={cliente.dni} onChange={(e) => onInputChange(e, 'dni')} required autoFocus className={classNames({ 'p-invalid': submitted && !cliente.dni })} />\n                            {submitted && !cliente.dni && <small className=\"p-error\">Debe indicarse un DNI.</small>}\n                        </div>\n\n                        <div className=\"p-field\">\n                            <label htmlFor=\"name\">Nombre</label>\n                            <InputText id=\"name\" value={cliente.nombre} onChange={(e) => onInputChange(e, 'nombre')} required className={classNames({ 'p-invalid': submitted && !cliente.nombre })} />\n                            {submitted && !cliente.nombre && <small className=\"p-error\">Debe indicarse un nombre.</small>}\n                        </div>\n\n                        <div className=\"p-field\">\n                            <label htmlFor=\"domicilio\">Domicilio</label>\n                            <InputText id=\"domicilio\" value={cliente.direccion.domicilio} onChange={(e) => onInputChange(e, 'direccion.domicilio')} />\n                        </div>\n\n                        <div className=\"p-field\">\n                            <label htmlFor=\"localidad\">Localidad</label>\n                            <InputText id=\"localidad\" value={cliente.direccion.localidad} onChange={(e) => onInputChange(e, 'direccion.localidad')} />\n                        </div>\n\n                        <div className=\"p-field\">\n                            <label htmlFor=\"codigoPostal\">Código postal</label>\n                            <InputText id=\"codigoPostal\" value={cliente.direccion.codigoPostal} onChange={(e) => onInputChange(e, 'direccion.codigoPostal')} />\n                        </div>\n\n                        <div className=\"p-field\">\n                            <label htmlFor=\"provincia\">Provincia</label>\n                            <InputText id=\"provincia\" value={cliente.direccion.provincia} onChange={(e) => onInputChange(e, 'direccion.provincia')} />\n                        </div>\n\n                        <div className=\"p-field\">\n                            <label htmlFor=\"telefono\">Teléfono</label>\n                            <InputText id=\"telefono\" value={cliente.direccion.telefono} onChange={(e) => onInputChange(e, 'direccion.telefono')} />\n                        </div>\n                    </div>\n\n                    <Divider />\n\n                    <div className=\"p-p-3\">\n                        <Button label=\"Cancelar\" icon=\"pi pi-times\" className=\"p-button-outlined mr-2\" onClick={onCancelar} />\n                        <Button label=\"Guardar\" icon=\"pi pi-check\" type=\"submit\" />\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}