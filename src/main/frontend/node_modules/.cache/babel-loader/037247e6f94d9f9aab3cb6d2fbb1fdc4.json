{"ast":null,"code":"var _jsxFileName = \"/home/nicolas/Documentos/Si/Practica/european_leagues/src/main/frontend/src/components/clientes/match/detailMatch.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { InputText } from 'primereact/inputtext';\nimport { Calendar } from 'primereact/calendar';\nimport { Button } from 'primereact/button';\nimport { Divider } from 'primereact/divider';\nimport { classNames } from 'primereact/utils';\nimport { Dropdown } from 'primereact/dropdown';\nimport { useDispatch } from 'react-redux';\nimport { searchMatchs } from '../../../actions/match';\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport matchService from '../../../services/matchService';\nimport teamService from '../../../services/teamService'; //retocar (atributos que dependen de otras tablas)\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function DetailMatch() {\n  _s();\n\n  const params = useParams();\n  const navigate = useNavigate();\n  const isNew = !('id' in params);\n  const emptyMatch = {\n    dateMatch: \"\",\n    goalsHomeTeam: \"\",\n    goalsVisitorTeam: \"\",\n    homeTeam: {\n      id: null,\n      name: \"\",\n      numberOfPlayers: \"\",\n      league: \"\"\n    },\n    visitorTeam: {\n      id: null,\n      name: \"\",\n      numberOfPlayers: \"\",\n      league: \"\"\n    }\n  };\n  const [match, setMatch] = useState(emptyMatch);\n  const [submitted, setSubmitted] = useState(false);\n  const [homeTeams, setHomeTeams] = useState([]);\n  const [visitorTeams, setVisitorTeams] = useState([]);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (!isNew) {\n      matchService.getMatch(params.id).then(res => setMatch(res.data));\n    }\n\n    teamService.getAllTeams().then(res => {\n      setHomeTeams(res.data);\n      setVisitorTeams(res.data);\n    });\n  }, [params.id, isNew]);\n  const searchAllMatchs = useCallback(() => {\n    dispatch(searchMatchs());\n  }, [dispatch]);\n\n  function onInputChange(e, name) {\n    const val = e.target && e.target.value || '';\n    let _match = { ...match\n    };\n    _match[`${name}`] = val;\n    setMatch(_match);\n  }\n\n  function onCancel(event) {\n    navigate(\"/matchs\");\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    setSubmitted(true);\n\n    if (dataMatchCorrect(match)) {\n      if (isNew) {\n        matchService.createMatch(match).then(searchAllMatchs());\n      } else {\n        matchService.updateMatch(match).then(searchAllMatchs());\n      }\n\n      navigate(\"/matchs\");\n    }\n  }\n\n  function onInputDateMatchChange(e, dateMatch) {\n    const val = e.target && e.target.value || '';\n    let _match = { ...match\n    };\n    var fecha = new Date(val);\n    _match[`${dateMatch}`] = new Date(fecha.setDate(fecha.getDate() + 1));\n    setMatch(_match);\n  }\n\n  function onHomeTeamChange(e) {\n    let _match = { ...match\n    };\n    _match.homeTeam = e.value;\n    setMatch(_match);\n  }\n\n  function onVisitorTeamChange(e) {\n    let _match = { ...match\n    };\n    _match.visitorTeam = e.value;\n    setMatch(_match);\n  }\n\n  function dataMatchCorrect(c) {\n    return c.dateMatch && c.homeTeam && c.visitorTeam;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"surface-card border-round shadow-2 p-4\",\n      children: [!isNew && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-900 text-2xl font-medium mb-4 block\",\n        children: \"Detail of Match\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 28\n      }, this), isNew && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-900 text-2xl font-medium mb-4 block\",\n        children: \"New Match\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"dateMatch\",\n            className: \"col-fixed\",\n            children: \"Date Match\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: /*#__PURE__*/_jsxDEV(Calendar, {\n              id: \"dateMatch\",\n              value: new Date(match.dateMatch),\n              required: true,\n              onChange: e => onInputDateMatchChange(e, 'dateMatch'),\n              dateFormat: \"yy-mm-dd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"goalsHomeTeam\",\n            className: \"col-fixed\",\n            children: \"Goals Home Team\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: [/*#__PURE__*/_jsxDEV(InputText, {\n              id: \"goalsHomeTeam\",\n              value: match.goalsHomeTeam,\n              onChange: e => onInputChange(e, 'goalsHomeTeam'),\n              required: true,\n              className: classNames({\n                'p-invalid': submitted && !match.goalsHomeTeam\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this), submitted && !match.goalsHomeTeam && /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"p-error\",\n              children: \" Number Of goals home team must be indicated.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 67\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"goalsVisitorTeam\",\n            className: \"col-fixed\",\n            children: \"Goals Visitor Team\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: [/*#__PURE__*/_jsxDEV(InputText, {\n              id: \"goalsVisitorTeam\",\n              value: match.goalsVisitorTeam,\n              onChange: e => onInputChange(e, 'goalsVisitorTeam'),\n              required: true,\n              className: classNames({\n                'p-invalid': submitted && !match.goalsVisitorTeam\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 29\n            }, this), submitted && !match.goalsVisitorTeam && /*#__PURE__*/_jsxDEV(\"small\", {\n              className: \"p-error\",\n              children: \" Number Of goals visitor team must be indicated.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 70\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"homeTeam\",\n            className: \"col-fixed\",\n            children: \"Home Team\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: /*#__PURE__*/_jsxDEV(Dropdown, {\n              id: \"homeTeams\",\n              value: match.homeTeam,\n              options: homeTeams,\n              onChange: onHomeTeamChange,\n              optionLabel: \"name\",\n              filter: true,\n              showClear: true,\n              required: true,\n              filterBy: \"team.name\",\n              placeholder: \"Select team\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"field grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"visitorTeam\",\n            className: \"col-fixed\",\n            children: \"Visitor Team\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col\",\n            children: /*#__PURE__*/_jsxDEV(Dropdown, {\n              id: \"visitorTeams\",\n              value: match.visitorTeam,\n              options: visitorTeams,\n              onChange: onVisitorTeamChange,\n              optionLabel: \"name\",\n              filter: true,\n              showClear: true,\n              required: true,\n              filterBy: \"team.name\",\n              placeholder: \"Select team\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-p-3\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            label: \"Cancel\",\n            icon: \"pi pi-times\",\n            className: \"p-button-outlined mr-2\",\n            onClick: onCancel\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            label: \"Save\",\n            icon: \"pi pi-check\",\n            type: \"submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 9\n  }, this);\n}\n\n_s(DetailMatch, \"8xebtPcmnyo5w21zr38c0oQaDEQ=\", false, function () {\n  return [useParams, useNavigate, useDispatch];\n});\n\n_c = DetailMatch;\n\nvar _c;\n\n$RefreshReg$(_c, \"DetailMatch\");","map":{"version":3,"sources":["/home/nicolas/Documentos/Si/Practica/european_leagues/src/main/frontend/src/components/clientes/match/detailMatch.js"],"names":["React","useState","useEffect","useCallback","InputText","Calendar","Button","Divider","classNames","Dropdown","useDispatch","searchMatchs","useParams","useNavigate","matchService","teamService","DetailMatch","params","navigate","isNew","emptyMatch","dateMatch","goalsHomeTeam","goalsVisitorTeam","homeTeam","id","name","numberOfPlayers","league","visitorTeam","match","setMatch","submitted","setSubmitted","homeTeams","setHomeTeams","visitorTeams","setVisitorTeams","dispatch","getMatch","then","res","data","getAllTeams","searchAllMatchs","onInputChange","e","val","target","value","_match","onCancel","event","handleSubmit","preventDefault","dataMatchCorrect","createMatch","updateMatch","onInputDateMatchChange","fecha","Date","setDate","getDate","onHomeTeamChange","onVisitorTeamChange","c"],"mappings":"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","sourcesContent":["import React, { useState, useEffect,useCallback } from 'react';\n\nimport { InputText } from 'primereact/inputtext';\nimport { Calendar } from 'primereact/calendar';\nimport { Button } from 'primereact/button';\nimport { Divider } from 'primereact/divider';\nimport { classNames } from 'primereact/utils';\nimport { Dropdown } from 'primereact/dropdown';\nimport {  useDispatch } from 'react-redux';\nimport { searchMatchs} from '../../../actions/match';\n\nimport { useParams, useNavigate } from \"react-router-dom\";\n\nimport matchService from '../../../services/matchService';\nimport teamService from '../../../services/teamService';\n\n//retocar (atributos que dependen de otras tablas)\nexport default function DetailMatch() {\n\n    const params = useParams();\n    const navigate = useNavigate();\n    const isNew = !('id' in params);\n\n    const emptyMatch = { dateMatch: \"\", goalsHomeTeam: \"\", goalsVisitorTeam: \"\", homeTeam: { id: null, name: \"\", numberOfPlayers: \"\", league: \"\" },\n    visitorTeam: { id: null, name: \"\", numberOfPlayers: \"\", league: \"\" }}\n    const [match, setMatch] = useState(emptyMatch);\n    const [submitted, setSubmitted] = useState(false);\n    const [homeTeams, setHomeTeams] = useState([]);\n    const [visitorTeams, setVisitorTeams] = useState([]);\n    const dispatch = useDispatch();\n\n\n    useEffect(() => {\n        if (!isNew) {\n            matchService.getMatch(params.id).then(res => setMatch(res.data));\n        } \n        teamService.getAllTeams().then(res => {\n        setHomeTeams(res.data)\n        setVisitorTeams(res.data)});   \n    }, [params.id,isNew]);\n\n    const searchAllMatchs  = useCallback(() => {\n        dispatch(searchMatchs());\n    }, [dispatch])\n\n    function onInputChange(e, name) {\n        const val = (e.target && e.target.value) || '';\n        let _match = { ...match };\n        _match[`${name}`] = val;\n        setMatch(_match);\n    }\n\n    function onCancel(event) {\n        navigate(\"/matchs\");\n    }\n\n    function handleSubmit(event) {\n        event.preventDefault();\n        setSubmitted(true);\n        if (dataMatchCorrect(match)) {\n            if (isNew) {\n                matchService.createMatch(match).then(searchAllMatchs());\n            } else {\n                matchService.updateMatch(match).then(searchAllMatchs());\n            }\n            navigate(\"/matchs\");\n        }\n    }\n    function onInputDateMatchChange(e, dateMatch) {\n        const val = (e.target && e.target.value) || '';\n        let _match = { ...match };\n        var fecha = new Date(val);\n        _match[`${dateMatch}`] =new Date(fecha.setDate(fecha.getDate() + 1))\n        setMatch(_match);\n    }\n\n    function onHomeTeamChange(e) {\n        let _match = { ...match };\n        _match.homeTeam = e.value;\n        setMatch(_match);\n    }\n\n    function onVisitorTeamChange(e) {\n        let _match = { ...match };\n        _match.visitorTeam = e.value;\n        setMatch(_match);\n    }\n\n    function dataMatchCorrect(c) {\n        return (c.dateMatch && c.homeTeam && c.visitorTeam);\n    }\n\n    return (\n        <div>\n            <div className=\"surface-card border-round shadow-2 p-4\">\n                {!isNew && <span className=\"text-900 text-2xl font-medium mb-4 block\">Detail of Match</span>}\n                {isNew && <span className=\"text-900 text-2xl font-medium mb-4 block\">New Match</span>}\n\n                <form onSubmit={handleSubmit} >\n                <div className=\"field grid\">\n                            <label htmlFor=\"dateMatch\" className='col-fixed'>Date Match</label>\n                            <div className=\"col\">\n                            <Calendar id=\"dateMatch\" value={new Date(match.dateMatch)} required onChange={(e) => onInputDateMatchChange(e,'dateMatch')} dateFormat=\"yy-mm-dd\" ></Calendar>\n                            </div>\n                        </div>\n\n                        <div className=\"field grid\">\n                            <label htmlFor=\"goalsHomeTeam\" className='col-fixed'>Goals Home Team</label>\n                            <div className='col'>\n                            <InputText id=\"goalsHomeTeam\" value={match.goalsHomeTeam} onChange={(e) => onInputChange(e, 'goalsHomeTeam')} required className={classNames({ 'p-invalid': submitted && !match.goalsHomeTeam })} />\n                            {submitted && !match.goalsHomeTeam && <small className=\"p-error\"> Number Of goals home team must be indicated.</small>}\n                            </div>\n                        </div>\n                        <div className=\"field grid\">\n                            <label htmlFor=\"goalsVisitorTeam\" className='col-fixed'>Goals Visitor Team</label>\n                            <div className='col'>\n                            <InputText id=\"goalsVisitorTeam\" value={match.goalsVisitorTeam} onChange={(e) => onInputChange(e, 'goalsVisitorTeam')} required className={classNames({ 'p-invalid': submitted && !match.goalsVisitorTeam })} />\n                            {submitted && !match.goalsVisitorTeam && <small className=\"p-error\"> Number Of goals visitor team must be indicated.</small>}\n                            </div>\n                        </div>\n                        <div className=\"field grid\">\n                            <label htmlFor=\"homeTeam\" className='col-fixed'>Home Team</label>\n                            <div className='col'>\n                            <Dropdown id=\"homeTeams\" value={match.homeTeam} options={homeTeams} onChange={onHomeTeamChange} optionLabel=\"name\"\n                                filter showClear required filterBy=\"team.name\" placeholder=\"Select team\" />\n                            </div>\n                        </div>\n                        <div className=\"field grid\">\n                            <label htmlFor=\"visitorTeam\" className='col-fixed'>Visitor Team</label>\n                            <div className='col'>\n                            <Dropdown id=\"visitorTeams\" value={match.visitorTeam} options={visitorTeams} onChange={onVisitorTeamChange} optionLabel=\"name\"\n                                filter showClear  required filterBy=\"team.name\" placeholder=\"Select team\" />\n                            </div>\n                        </div>\n\n                    <Divider />\n\n                    <div className=\"p-p-3\">\n                        <Button label=\"Cancel\" icon=\"pi pi-times\" className=\"p-button-outlined mr-2\" onClick={onCancel} />\n                        <Button label=\"Save\" icon=\"pi pi-check\" type=\"submit\" />\n                    </div>\n                </form>\n            </div>\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}