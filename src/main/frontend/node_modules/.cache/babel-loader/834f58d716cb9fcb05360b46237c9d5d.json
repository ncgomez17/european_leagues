{"ast":null,"code":"import React, { Component } from 'react';\nimport { ObjectUtils, classNames } from 'primereact/utils';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar VirtualScroller = /*#__PURE__*/function (_Component) {\n  _inherits(VirtualScroller, _Component);\n\n  var _super = _createSuper(VirtualScroller);\n\n  function VirtualScroller(props) {\n    var _this;\n\n    _classCallCheck(this, VirtualScroller);\n\n    _this = _super.call(this, props);\n\n    var isBoth = _this.isBoth();\n\n    _this.state = {\n      first: isBoth ? {\n        rows: 0,\n        cols: 0\n      } : 0,\n      last: isBoth ? {\n        rows: 0,\n        cols: 0\n      } : 0,\n      numItemsInViewport: isBoth ? {\n        rows: 0,\n        cols: 0\n      } : 0,\n      numToleratedItems: props.numToleratedItems,\n      loading: props.loading,\n      loaderArr: []\n    };\n    _this.onScroll = _this.onScroll.bind(_assertThisInitialized(_this));\n    _this.lastScrollPos = isBoth ? {\n      top: 0,\n      left: 0\n    } : 0;\n    return _this;\n  }\n\n  _createClass(VirtualScroller, [{\n    key: \"scrollTo\",\n    value: function scrollTo(options) {\n      this.el && this.el.scrollTo(options);\n    }\n  }, {\n    key: \"scrollToIndex\",\n    value: function scrollToIndex(index) {\n      var _this2 = this;\n\n      var behavior = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'auto';\n      var isBoth = this.isBoth();\n      var isHorizontal = this.isHorizontal();\n      var first = this.state.first;\n      var numToleratedItems = this.state.numToleratedItems;\n      var itemSize = this.props.itemSize;\n      var contentPos = this.getContentPosition();\n\n      var calculateFirst = function calculateFirst() {\n        var _index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n        var _numT = arguments.length > 1 ? arguments[1] : undefined;\n\n        return _index <= _numT ? 0 : _index;\n      };\n\n      var calculateCoord = function calculateCoord(_first, _size, _cpos) {\n        return _first * _size + _cpos;\n      };\n\n      var scrollTo = function scrollTo() {\n        var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        return _this2.scrollTo({\n          left: left,\n          top: top,\n          behavior: behavior\n        });\n      };\n\n      if (isBoth) {\n        var newFirst = {\n          rows: calculateFirst(index[0], numToleratedItems[0]),\n          cols: calculateFirst(index[1], numToleratedItems[1])\n        };\n\n        if (newFirst.rows !== first.rows || newFirst.cols !== first.cols) {\n          scrollTo(calculateCoord(newFirst.cols, itemSize[1], contentPos.left), calculateCoord(newFirst.rows, itemSize[0], contentPos.top));\n          this.setState({\n            first: newFirst\n          });\n        }\n      } else {\n        var _newFirst = calculateFirst(index, numToleratedItems);\n\n        if (_newFirst !== first) {\n          isHorizontal ? scrollTo(calculateCoord(_newFirst, itemSize, contentPos.left), 0) : scrollTo(0, calculateCoord(_newFirst, itemSize, contentPos.top));\n          this.setState({\n            first: _newFirst\n          });\n        }\n      }\n    }\n  }, {\n    key: \"scrollInView\",\n    value: function scrollInView(index, to) {\n      var _this3 = this;\n\n      var behavior = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'auto';\n\n      if (to) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n\n        var _this$getRenderedRang = this.getRenderedRange(),\n            first = _this$getRenderedRang.first,\n            viewport = _this$getRenderedRang.viewport;\n\n        var itemSize = this.props.itemSize;\n\n        var scrollTo = function scrollTo() {\n          var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n          var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n          return _this3.scrollTo({\n            left: left,\n            top: top,\n            behavior: behavior\n          });\n        };\n\n        var isToStart = to === 'to-start';\n        var isToEnd = to === 'to-end';\n\n        if (isToStart) {\n          if (isBoth) {\n            if (viewport.first.rows - first.rows > index[0]) {\n              scrollTo(viewport.first.cols * itemSize, (viewport.first.rows - 1) * itemSize);\n            } else if (viewport.first.cols - first.cols > index[1]) {\n              scrollTo((viewport.first.cols - 1) * itemSize, viewport.first.rows * itemSize);\n            }\n          } else {\n            if (viewport.first - first > index) {\n              var pos = (viewport.first - 1) * itemSize;\n              isHorizontal ? scrollTo(pos, 0) : scrollTo(0, pos);\n            }\n          }\n        } else if (isToEnd) {\n          if (isBoth) {\n            if (viewport.last.rows - first.rows <= index[0] + 1) {\n              scrollTo(viewport.first.cols * itemSize, (viewport.first.rows + 1) * itemSize);\n            } else if (viewport.last.cols - first.cols <= index[1] + 1) {\n              scrollTo((viewport.first.cols + 1) * itemSize, viewport.first.rows * itemSize);\n            }\n          } else {\n            if (viewport.last - first <= index + 1) {\n              var _pos2 = (viewport.first + 1) * itemSize;\n\n              isHorizontal ? scrollTo(_pos2, 0) : scrollTo(0, _pos2);\n            }\n          }\n        }\n      } else {\n        this.scrollToIndex(index, behavior);\n      }\n    }\n  }, {\n    key: \"getRows\",\n    value: function getRows() {\n      return this.state.loading ? this.props.loaderDisabled ? this.state.loaderArr : [] : this.loadedItems();\n    }\n  }, {\n    key: \"getColumns\",\n    value: function getColumns() {\n      if (this.props.columns) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n\n        if (isBoth || isHorizontal) {\n          return this.state.loading && this.props.loaderDisabled ? isBoth ? this.state.loaderArr[0] : this.state.loaderArr : this.props.columns.slice(isBoth ? this.state.first.cols : this.state.first, isBoth ? this.state.last.cols : this.state.last);\n        }\n      }\n\n      return this.props.columns;\n    }\n  }, {\n    key: \"getRenderedRange\",\n    value: function getRenderedRange() {\n      var isBoth = this.isBoth();\n      var isHorizontal = this.isHorizontal();\n      var _this$state = this.state,\n          first = _this$state.first,\n          last = _this$state.last,\n          numItemsInViewport = _this$state.numItemsInViewport;\n      var itemSize = this.props.itemSize;\n\n      var calculateFirstInViewport = function calculateFirstInViewport(_pos, _size) {\n        return Math.floor(_pos / (_size || _pos));\n      };\n\n      var firstInViewport = first;\n      var lastInViewport = 0;\n\n      if (this.el) {\n        var scrollTop = this.el.scrollTop;\n        var scrollLeft = this.el.scrollLeft;\n\n        if (isBoth) {\n          firstInViewport = {\n            rows: calculateFirstInViewport(scrollTop, itemSize[0]),\n            cols: calculateFirstInViewport(scrollLeft, itemSize[1])\n          };\n          lastInViewport = {\n            rows: firstInViewport.rows + numItemsInViewport.rows,\n            cols: firstInViewport.cols + numItemsInViewport.cols\n          };\n        } else {\n          var scrollPos = isHorizontal ? scrollLeft : scrollTop;\n          firstInViewport = calculateFirstInViewport(scrollPos, itemSize);\n          lastInViewport = firstInViewport + numItemsInViewport;\n        }\n      }\n\n      return {\n        first: first,\n        last: last,\n        viewport: {\n          first: firstInViewport,\n          last: lastInViewport\n        }\n      };\n    }\n  }, {\n    key: \"isVertical\",\n    value: function isVertical() {\n      return this.props.orientation === 'vertical';\n    }\n  }, {\n    key: \"isHorizontal\",\n    value: function isHorizontal() {\n      return this.props.orientation === 'horizontal';\n    }\n  }, {\n    key: \"isBoth\",\n    value: function isBoth() {\n      return this.props.orientation === 'both';\n    }\n  }, {\n    key: \"calculateOptions\",\n    value: function calculateOptions() {\n      var _this4 = this;\n\n      var isBoth = this.isBoth();\n      var isHorizontal = this.isHorizontal();\n      var first = this.state.first;\n      var itemSize = this.props.itemSize;\n      var contentPos = this.getContentPosition();\n      var contentWidth = this.el ? this.el.offsetWidth - contentPos.left : 0;\n      var contentHeight = this.el ? this.el.offsetHeight - contentPos.top : 0;\n\n      var calculateNumItemsInViewport = function calculateNumItemsInViewport(_contentSize, _itemSize) {\n        return Math.ceil(_contentSize / (_itemSize || _contentSize));\n      };\n\n      var calculateNumToleratedItems = function calculateNumToleratedItems(_numItems) {\n        return Math.ceil(_numItems / 2);\n      };\n\n      var numItemsInViewport = isBoth ? {\n        rows: calculateNumItemsInViewport(contentHeight, itemSize[0]),\n        cols: calculateNumItemsInViewport(contentWidth, itemSize[1])\n      } : calculateNumItemsInViewport(isHorizontal ? contentWidth : contentHeight, itemSize);\n      var numToleratedItems = this.state.numToleratedItems || (isBoth ? [calculateNumToleratedItems(numItemsInViewport.rows), calculateNumToleratedItems(numItemsInViewport.cols)] : calculateNumToleratedItems(numItemsInViewport));\n\n      var calculateLast = function calculateLast(_first, _num, _numT, _isCols) {\n        return _this4.getLast(_first + _num + (_first < _numT ? 2 : 3) * _numT, _isCols);\n      };\n\n      var last = isBoth ? {\n        rows: calculateLast(first.rows, numItemsInViewport.rows, numToleratedItems[0]),\n        cols: calculateLast(first.cols, numItemsInViewport.cols, numToleratedItems[1], true)\n      } : calculateLast(first, numItemsInViewport, numToleratedItems);\n      var state = {\n        numItemsInViewport: numItemsInViewport,\n        last: last,\n        numToleratedItems: numToleratedItems\n      };\n\n      if (this.props.showLoader) {\n        state['loaderArr'] = isBoth ? Array.from({\n          length: numItemsInViewport.rows\n        }).map(function () {\n          return Array.from({\n            length: numItemsInViewport.cols\n          });\n        }) : Array.from({\n          length: numItemsInViewport\n        });\n      }\n\n      this.setState(state, function () {\n        if (_this4.props.lazy) {\n          _this4.props.onLazyLoad && _this4.props.onLazyLoad({\n            first: _this4.state.first,\n            last: _this4.state.last\n          });\n        }\n      });\n    }\n  }, {\n    key: \"getLast\",\n    value: function getLast() {\n      var last = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var isCols = arguments.length > 1 ? arguments[1] : undefined;\n\n      if (this.props.items) {\n        return Math.min(isCols ? (this.props.columns || this.props.items[0]).length : this.props.items.length, last);\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"getContentPosition\",\n    value: function getContentPosition() {\n      if (this.content) {\n        var style = getComputedStyle(this.content);\n        var left = parseInt(style.paddingLeft, 10) + Math.max(parseInt(style.left, 10), 0);\n        var right = parseInt(style.paddingRight, 10) + Math.max(parseInt(style.right, 10), 0);\n        var top = parseInt(style.paddingTop, 10) + Math.max(parseInt(style.top, 10), 0);\n        var bottom = parseInt(style.paddingBottom, 10) + Math.max(parseInt(style.bottom, 10), 0);\n        return {\n          left: left,\n          right: right,\n          top: top,\n          bottom: bottom,\n          x: left + right,\n          y: top + bottom\n        };\n      }\n\n      return {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        x: 0,\n        y: 0\n      };\n    }\n  }, {\n    key: \"setSize\",\n    value: function setSize() {\n      var _this5 = this;\n\n      if (this.el) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n        var parentElement = this.el.parentElement;\n        var width = this.props.scrollWidth || \"\".concat(this.el.offsetWidth || parentElement.offsetWidth, \"px\");\n        var height = this.props.scrollHeight || \"\".concat(this.el.offsetHeight || parentElement.offsetHeight, \"px\");\n\n        var setProp = function setProp(_name, _value) {\n          return _this5.el.style[_name] = _value;\n        };\n\n        if (isBoth || isHorizontal) {\n          setProp('height', height);\n          setProp('width', width);\n        } else {\n          setProp('height', height);\n        }\n      }\n    }\n  }, {\n    key: \"setSpacerSize\",\n    value: function setSpacerSize() {\n      var _this6 = this;\n\n      var items = this.props.items;\n\n      if (this.spacer && items) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n        var itemSize = this.props.itemSize;\n        var contentPos = this.getContentPosition();\n\n        var setProp = function setProp(_name, _value, _size) {\n          var _cpos = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n          return _this6.spacer.style[_name] = (_value || []).length * _size + _cpos + 'px';\n        };\n\n        if (isBoth) {\n          setProp('height', items, itemSize[0], contentPos.y);\n          setProp('width', this.props.columns || items[1], itemSize[1], contentPos.x);\n        } else {\n          isHorizontal ? setProp('width', this.props.columns || items, itemSize, contentPos.x) : setProp('height', items, itemSize, contentPos.y);\n        }\n      }\n    }\n  }, {\n    key: \"setContentPosition\",\n    value: function setContentPosition(pos) {\n      var _this7 = this;\n\n      if (this.content) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n        var first = pos ? pos.first : this.state.first;\n        var itemSize = this.props.itemSize;\n\n        var calculateTranslateVal = function calculateTranslateVal(_first, _size) {\n          return _first * _size;\n        };\n\n        var setTransform = function setTransform() {\n          var _x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n          var _y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n          _this7.sticky && (_this7.sticky.style.top = \"-\".concat(_y, \"px\"));\n          _this7.content.style.transform = \"translate3d(\".concat(_x, \"px, \").concat(_y, \"px, 0)\");\n        };\n\n        if (isBoth) {\n          setTransform(calculateTranslateVal(first.cols, itemSize[1]), calculateTranslateVal(first.rows, itemSize[0]));\n        } else {\n          var translateVal = calculateTranslateVal(first, itemSize);\n          isHorizontal ? setTransform(translateVal, 0) : setTransform(0, translateVal);\n        }\n      }\n    }\n  }, {\n    key: \"onScrollPositionChange\",\n    value: function onScrollPositionChange(event) {\n      var _this8 = this;\n\n      var target = event.target;\n      var isBoth = this.isBoth();\n      var isHorizontal = this.isHorizontal();\n      var _this$state2 = this.state,\n          first = _this$state2.first,\n          last = _this$state2.last,\n          numItemsInViewport = _this$state2.numItemsInViewport,\n          numToleratedItems = _this$state2.numToleratedItems;\n      var itemSize = this.props.itemSize;\n      var contentPos = this.getContentPosition();\n\n      var calculateScrollPos = function calculateScrollPos(_pos, _cpos) {\n        return _pos ? _pos > _cpos ? _pos - _cpos : _pos : 0;\n      };\n\n      var calculateCurrentIndex = function calculateCurrentIndex(_pos, _size) {\n        return Math.floor(_pos / (_size || _pos));\n      };\n\n      var calculateTriggerIndex = function calculateTriggerIndex(_currentIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\n        return _currentIndex <= _numT ? _numT : _isScrollDownOrRight ? _last - _num - _numT : _first + _numT - 1;\n      };\n\n      var calculateFirst = function calculateFirst(_currentIndex, _triggerIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\n        if (_currentIndex <= _numT) return 0;else return _isScrollDownOrRight ? _currentIndex < _triggerIndex ? _first : _currentIndex - _numT : _currentIndex > _triggerIndex ? _first : _currentIndex - 2 * _numT;\n      };\n\n      var calculateLast = function calculateLast(_currentIndex, _first, _last, _num, _numT, _isCols) {\n        var lastValue = _first + _num + 2 * _numT;\n\n        if (_currentIndex >= _numT) {\n          lastValue += _numT + 1;\n        }\n\n        return _this8.getLast(lastValue, _isCols);\n      };\n\n      var scrollTop = calculateScrollPos(target.scrollTop, contentPos.top);\n      var scrollLeft = calculateScrollPos(target.scrollLeft, contentPos.left);\n      var newFirst = 0;\n      var newLast = last;\n      var isRangeChanged = false;\n\n      if (isBoth) {\n        var isScrollDown = this.lastScrollPos.top <= scrollTop;\n        var isScrollRight = this.lastScrollPos.left <= scrollLeft;\n        var currentIndex = {\n          rows: calculateCurrentIndex(scrollTop, itemSize[0]),\n          cols: calculateCurrentIndex(scrollLeft, itemSize[1])\n        };\n        var triggerIndex = {\n          rows: calculateTriggerIndex(currentIndex.rows, first.rows, last.rows, numItemsInViewport.rows, numToleratedItems[0], isScrollDown),\n          cols: calculateTriggerIndex(currentIndex.cols, first.cols, last.cols, numItemsInViewport.cols, numToleratedItems[1], isScrollRight)\n        };\n        newFirst = {\n          rows: calculateFirst(currentIndex.rows, triggerIndex.rows, first.rows, last.rows, numItemsInViewport.rows, numToleratedItems[0], isScrollDown),\n          cols: calculateFirst(currentIndex.cols, triggerIndex.cols, first.cols, last.cols, numItemsInViewport.cols, numToleratedItems[1], isScrollRight)\n        };\n        newLast = {\n          rows: calculateLast(currentIndex.rows, newFirst.rows, last.rows, numItemsInViewport.rows, numToleratedItems[0]),\n          cols: calculateLast(currentIndex.cols, newFirst.cols, last.cols, numItemsInViewport.cols, numToleratedItems[1], true)\n        };\n        isRangeChanged = newFirst.rows !== first.rows && newLast.rows !== last.rows || newFirst.cols !== first.cols && newLast.cols !== last.cols;\n        this.lastScrollPos = {\n          top: scrollTop,\n          left: scrollLeft\n        };\n      } else {\n        var scrollPos = isHorizontal ? scrollLeft : scrollTop;\n        var isScrollDownOrRight = this.lastScrollPos <= scrollPos;\n\n        var _currentIndex2 = calculateCurrentIndex(scrollPos, itemSize);\n\n        var _triggerIndex2 = calculateTriggerIndex(_currentIndex2, first, last, numItemsInViewport, numToleratedItems, isScrollDownOrRight);\n\n        newFirst = calculateFirst(_currentIndex2, _triggerIndex2, first, last, numItemsInViewport, numToleratedItems, isScrollDownOrRight);\n        newLast = calculateLast(_currentIndex2, newFirst, last, numItemsInViewport, numToleratedItems);\n        isRangeChanged = newFirst !== first && newLast !== last;\n        this.lastScrollPos = scrollPos;\n      }\n\n      return {\n        first: newFirst,\n        last: newLast,\n        isRangeChanged: isRangeChanged\n      };\n    }\n  }, {\n    key: \"onScrollChange\",\n    value: function onScrollChange(event) {\n      var _this9 = this;\n\n      var _this$onScrollPositio = this.onScrollPositionChange(event),\n          first = _this$onScrollPositio.first,\n          last = _this$onScrollPositio.last,\n          isRangeChanged = _this$onScrollPositio.isRangeChanged;\n\n      if (isRangeChanged) {\n        var newState = {\n          first: first,\n          last: last\n        };\n        this.setContentPosition(newState);\n        this.setState(newState, function () {\n          _this9.props.onScrollIndexChange && _this9.props.onScrollIndexChange(newState);\n\n          if (_this9.props.lazy) {\n            _this9.props.onLazyLoad && _this9.props.onLazyLoad(newState);\n          }\n        });\n      }\n    }\n  }, {\n    key: \"onScroll\",\n    value: function onScroll(event) {\n      var _this10 = this;\n\n      this.props.onScroll && this.props.onScroll(event);\n\n      if (this.props.delay) {\n        if (this.scrollTimeout) {\n          clearTimeout(this.scrollTimeout);\n        }\n\n        if (!this.state.loading && this.props.showLoader) {\n          var _this$onScrollPositio2 = this.onScrollPositionChange(event),\n              changed = _this$onScrollPositio2.isRangeChanged;\n\n          changed && this.setState({\n            loading: true\n          });\n        }\n\n        this.scrollTimeout = setTimeout(function () {\n          _this10.onScrollChange(event);\n\n          if (_this10.state.loading && _this10.props.showLoader && !_this10.props.lazy) {\n            _this10.setState({\n              loading: false\n            });\n          }\n        }, this.props.delay);\n      } else {\n        this.onScrollChange(event);\n      }\n    }\n  }, {\n    key: \"getOptions\",\n    value: function getOptions(renderedIndex) {\n      var first = this.state.first;\n      var count = (this.props.items || []).length;\n      var index = this.isBoth() ? first.rows + renderedIndex : first + renderedIndex;\n      return {\n        index: index,\n        count: count,\n        first: index === 0,\n        last: index === count - 1,\n        even: index % 2 === 0,\n        odd: index % 2 !== 0,\n        props: this.props\n      };\n    }\n  }, {\n    key: \"loaderOptions\",\n    value: function loaderOptions(index, extOptions) {\n      var count = this.state.loaderArr.length;\n      return _objectSpread({\n        index: index,\n        count: count,\n        first: index === 0,\n        last: index === count - 1,\n        even: index % 2 === 0,\n        odd: index % 2 !== 0,\n        props: this.props\n      }, extOptions);\n    }\n  }, {\n    key: \"loadedItems\",\n    value: function loadedItems() {\n      var _this11 = this;\n\n      var items = this.props.items;\n\n      if (items && !this.state.loading) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n        var _this$state3 = this.state,\n            first = _this$state3.first,\n            last = _this$state3.last;\n        if (isBoth) return items.slice(first.rows, last.rows).map(function (item) {\n          return _this11.props.columns ? item : item.slice(first.cols, last.cols);\n        });else if (isHorizontal && this.props.columns) return items;else return items.slice(first, last);\n      }\n\n      return [];\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      this.setSize();\n      this.calculateOptions();\n      this.setSpacerSize();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.init();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (!ObjectUtils.equals(prevProps.itemSize, this.props.itemSize) || !prevProps.items || prevProps.items.length !== (this.props.items || []).length) {\n        this.init();\n      }\n\n      if (this.props.lazy && prevProps.loading !== this.props.loading && this.state.loading !== this.props.loading) {\n        this.setState({\n          loading: this.props.loading\n        });\n      }\n\n      if (prevProps.orientation !== this.props.orientation) {\n        this.lastScrollPos = this.isBoth() ? {\n          top: 0,\n          left: 0\n        } : 0;\n      }\n    }\n  }, {\n    key: \"renderLoaderItem\",\n    value: function renderLoaderItem(index) {\n      var extOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var options = this.loaderOptions(index, extOptions);\n      var content = ObjectUtils.getJSXElement(this.props.loadingTemplate, options);\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        key: index\n      }, content);\n    }\n  }, {\n    key: \"renderLoader\",\n    value: function renderLoader() {\n      var _this12 = this;\n\n      if (!this.props.loaderDisabled && this.props.showLoader && this.state.loading) {\n        var className = classNames('p-virtualscroller-loader', {\n          'p-component-overlay': !this.props.loadingTemplate\n        });\n        var content = /*#__PURE__*/React.createElement(\"i\", {\n          className: \"p-virtualscroller-loading-icon pi pi-spinner pi-spin\"\n        });\n\n        if (this.props.loadingTemplate) {\n          var isBoth = this.isBoth();\n          var numItemsInViewport = this.state.numItemsInViewport;\n          content = this.state.loaderArr.map(function (_, index) {\n            return _this12.renderLoaderItem(index, isBoth && {\n              numCols: numItemsInViewport.cols\n            });\n          });\n        }\n\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: className\n        }, content);\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderSpacer\",\n    value: function renderSpacer() {\n      var _this13 = this;\n\n      if (this.props.showSpacer) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          ref: function ref(el) {\n            return _this13.spacer = el;\n          },\n          className: \"p-virtualscroller-spacer\"\n        });\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderItem\",\n    value: function renderItem(item, index) {\n      var options = this.getOptions(index);\n      var content = ObjectUtils.getJSXElement(this.props.itemTemplate, item, options);\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        key: options.index\n      }, content);\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems(loadedItems) {\n      var _this14 = this;\n\n      return loadedItems.map(function (item, index) {\n        return _this14.renderItem(item, index);\n      });\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent() {\n      var _this15 = this;\n\n      var loadedItems = this.loadedItems();\n      var items = this.renderItems(loadedItems);\n      var className = classNames('p-virtualscroller-content', {\n        'p-virtualscroller-loading': this.state.loading\n      });\n      var content = /*#__PURE__*/React.createElement(\"div\", {\n        className: className,\n        ref: function ref(el) {\n          return _this15.content = el;\n        }\n      }, items);\n\n      if (this.props.contentTemplate) {\n        var defaultOptions = {\n          className: className,\n          contentRef: function contentRef(el) {\n            return _this15.content = el;\n          },\n          spacerRef: function spacerRef(el) {\n            return _this15.spacer = el;\n          },\n          stickyRef: function stickyRef(el) {\n            return _this15.sticky = el;\n          },\n          items: loadedItems,\n          getItemOptions: function getItemOptions(index) {\n            return _this15.getOptions(index);\n          },\n          children: items,\n          element: content,\n          props: this.props,\n          loading: this.state.loading,\n          getLoaderOptions: function getLoaderOptions(index, ext) {\n            return _this15.loaderOptions(index, ext);\n          },\n          loadingTemplate: this.props.loadingTemplate,\n          itemSize: this.props.itemSize,\n          rows: this.getRows(),\n          columns: this.getColumns(),\n          vertical: this.isVertical(),\n          horizontal: this.isHorizontal(),\n          both: this.isBoth()\n        };\n        return ObjectUtils.getJSXElement(this.props.contentTemplate, defaultOptions);\n      }\n\n      return content;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this16 = this;\n\n      if (this.props.disabled) {\n        var content = ObjectUtils.getJSXElement(this.props.contentTemplate, {\n          items: this.props.items,\n          rows: this.props.items,\n          columns: this.props.columns\n        });\n        return /*#__PURE__*/React.createElement(React.Fragment, null, this.props.children, content);\n      } else {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n        var className = classNames('p-virtualscroller', {\n          'p-both-scroll': isBoth,\n          'p-horizontal-scroll': isHorizontal\n        }, this.props.className);\n        var loader = this.renderLoader();\n\n        var _content = this.renderContent();\n\n        var spacer = this.renderSpacer();\n        return /*#__PURE__*/React.createElement(\"div\", {\n          ref: function ref(el) {\n            return _this16.el = el;\n          },\n          className: className,\n          tabIndex: 0,\n          style: this.props.style,\n          onScroll: this.onScroll\n        }, _content, spacer, loader);\n      }\n    }\n  }]);\n\n  return VirtualScroller;\n}(Component);\n\n_defineProperty(VirtualScroller, \"defaultProps\", {\n  id: null,\n  style: null,\n  className: null,\n  items: null,\n  itemSize: 0,\n  scrollHeight: null,\n  scrollWidth: null,\n  orientation: 'vertical',\n  numToleratedItems: null,\n  delay: 0,\n  lazy: false,\n  disabled: false,\n  loaderDisabled: false,\n  columns: null,\n  loading: false,\n  showSpacer: true,\n  showLoader: false,\n  loadingTemplate: null,\n  itemTemplate: null,\n  contentTemplate: null,\n  onScroll: null,\n  onScrollIndexChange: null,\n  onLazyLoad: null\n});\n\nexport { VirtualScroller };","map":{"version":3,"sources":["/home/nicolas/Documentos/Si/Practica/european_leagues/src/main/frontend/node_modules/primereact/virtualscroller/virtualscroller.esm.js"],"names":["React","Component","ObjectUtils","classNames","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_assertThisInitialized","self","ReferenceError","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_inherits","subClass","superClass","create","constructor","value","_typeof","obj","Symbol","iterator","_possibleConstructorReturn","call","_getPrototypeOf","getPrototypeOf","_defineProperty","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","Reflect","construct","sham","Proxy","Boolean","valueOf","e","VirtualScroller","_Component","_super","_this","isBoth","state","first","rows","cols","last","numItemsInViewport","numToleratedItems","loading","loaderArr","onScroll","bind","lastScrollPos","top","left","scrollTo","options","el","scrollToIndex","index","_this2","behavior","undefined","isHorizontal","itemSize","contentPos","getContentPosition","calculateFirst","_index","_numT","calculateCoord","_first","_size","_cpos","newFirst","setState","_newFirst","scrollInView","to","_this3","_this$getRenderedRang","getRenderedRange","viewport","isToStart","isToEnd","pos","_pos2","getRows","loaderDisabled","loadedItems","getColumns","columns","slice","_this$state","calculateFirstInViewport","_pos","Math","floor","firstInViewport","lastInViewport","scrollTop","scrollLeft","scrollPos","isVertical","orientation","calculateOptions","_this4","contentWidth","offsetWidth","contentHeight","offsetHeight","calculateNumItemsInViewport","_contentSize","_itemSize","ceil","calculateNumToleratedItems","_numItems","calculateLast","_num","_isCols","getLast","showLoader","Array","from","map","lazy","onLazyLoad","isCols","items","min","content","style","getComputedStyle","parseInt","paddingLeft","max","right","paddingRight","paddingTop","bottom","paddingBottom","x","y","setSize","_this5","parentElement","width","scrollWidth","concat","height","scrollHeight","setProp","_name","_value","setSpacerSize","_this6","spacer","setContentPosition","_this7","calculateTranslateVal","setTransform","_x","_y","sticky","transform","translateVal","onScrollPositionChange","event","_this8","_this$state2","calculateScrollPos","calculateCurrentIndex","calculateTriggerIndex","_currentIndex","_last","_isScrollDownOrRight","_triggerIndex","lastValue","newLast","isRangeChanged","isScrollDown","isScrollRight","currentIndex","triggerIndex","isScrollDownOrRight","_currentIndex2","_triggerIndex2","onScrollChange","_this9","_this$onScrollPositio","newState","onScrollIndexChange","_this10","delay","scrollTimeout","clearTimeout","_this$onScrollPositio2","changed","setTimeout","getOptions","renderedIndex","count","even","odd","loaderOptions","extOptions","_this11","_this$state3","item","init","componentDidMount","componentDidUpdate","prevProps","prevState","equals","renderLoaderItem","getJSXElement","loadingTemplate","createElement","Fragment","renderLoader","_this12","className","_","numCols","renderSpacer","_this13","showSpacer","ref","renderItem","itemTemplate","renderItems","_this14","renderContent","_this15","contentTemplate","defaultOptions","contentRef","spacerRef","stickyRef","getItemOptions","children","element","getLoaderOptions","ext","vertical","horizontal","both","render","_this16","disabled","loader","_content","tabIndex","id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { ObjectUtils, classNames } from 'primereact/utils';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar VirtualScroller = /*#__PURE__*/function (_Component) {\n  _inherits(VirtualScroller, _Component);\n\n  var _super = _createSuper(VirtualScroller);\n\n  function VirtualScroller(props) {\n    var _this;\n\n    _classCallCheck(this, VirtualScroller);\n\n    _this = _super.call(this, props);\n\n    var isBoth = _this.isBoth();\n\n    _this.state = {\n      first: isBoth ? {\n        rows: 0,\n        cols: 0\n      } : 0,\n      last: isBoth ? {\n        rows: 0,\n        cols: 0\n      } : 0,\n      numItemsInViewport: isBoth ? {\n        rows: 0,\n        cols: 0\n      } : 0,\n      numToleratedItems: props.numToleratedItems,\n      loading: props.loading,\n      loaderArr: []\n    };\n    _this.onScroll = _this.onScroll.bind(_assertThisInitialized(_this));\n    _this.lastScrollPos = isBoth ? {\n      top: 0,\n      left: 0\n    } : 0;\n    return _this;\n  }\n\n  _createClass(VirtualScroller, [{\n    key: \"scrollTo\",\n    value: function scrollTo(options) {\n      this.el && this.el.scrollTo(options);\n    }\n  }, {\n    key: \"scrollToIndex\",\n    value: function scrollToIndex(index) {\n      var _this2 = this;\n\n      var behavior = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'auto';\n      var isBoth = this.isBoth();\n      var isHorizontal = this.isHorizontal();\n      var first = this.state.first;\n      var numToleratedItems = this.state.numToleratedItems;\n      var itemSize = this.props.itemSize;\n      var contentPos = this.getContentPosition();\n\n      var calculateFirst = function calculateFirst() {\n        var _index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n        var _numT = arguments.length > 1 ? arguments[1] : undefined;\n\n        return _index <= _numT ? 0 : _index;\n      };\n\n      var calculateCoord = function calculateCoord(_first, _size, _cpos) {\n        return _first * _size + _cpos;\n      };\n\n      var scrollTo = function scrollTo() {\n        var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n        return _this2.scrollTo({\n          left: left,\n          top: top,\n          behavior: behavior\n        });\n      };\n\n      if (isBoth) {\n        var newFirst = {\n          rows: calculateFirst(index[0], numToleratedItems[0]),\n          cols: calculateFirst(index[1], numToleratedItems[1])\n        };\n\n        if (newFirst.rows !== first.rows || newFirst.cols !== first.cols) {\n          scrollTo(calculateCoord(newFirst.cols, itemSize[1], contentPos.left), calculateCoord(newFirst.rows, itemSize[0], contentPos.top));\n          this.setState({\n            first: newFirst\n          });\n        }\n      } else {\n        var _newFirst = calculateFirst(index, numToleratedItems);\n\n        if (_newFirst !== first) {\n          isHorizontal ? scrollTo(calculateCoord(_newFirst, itemSize, contentPos.left), 0) : scrollTo(0, calculateCoord(_newFirst, itemSize, contentPos.top));\n          this.setState({\n            first: _newFirst\n          });\n        }\n      }\n    }\n  }, {\n    key: \"scrollInView\",\n    value: function scrollInView(index, to) {\n      var _this3 = this;\n\n      var behavior = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'auto';\n\n      if (to) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n\n        var _this$getRenderedRang = this.getRenderedRange(),\n            first = _this$getRenderedRang.first,\n            viewport = _this$getRenderedRang.viewport;\n\n        var itemSize = this.props.itemSize;\n\n        var scrollTo = function scrollTo() {\n          var left = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n          var top = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n          return _this3.scrollTo({\n            left: left,\n            top: top,\n            behavior: behavior\n          });\n        };\n\n        var isToStart = to === 'to-start';\n        var isToEnd = to === 'to-end';\n\n        if (isToStart) {\n          if (isBoth) {\n            if (viewport.first.rows - first.rows > index[0]) {\n              scrollTo(viewport.first.cols * itemSize, (viewport.first.rows - 1) * itemSize);\n            } else if (viewport.first.cols - first.cols > index[1]) {\n              scrollTo((viewport.first.cols - 1) * itemSize, viewport.first.rows * itemSize);\n            }\n          } else {\n            if (viewport.first - first > index) {\n              var pos = (viewport.first - 1) * itemSize;\n              isHorizontal ? scrollTo(pos, 0) : scrollTo(0, pos);\n            }\n          }\n        } else if (isToEnd) {\n          if (isBoth) {\n            if (viewport.last.rows - first.rows <= index[0] + 1) {\n              scrollTo(viewport.first.cols * itemSize, (viewport.first.rows + 1) * itemSize);\n            } else if (viewport.last.cols - first.cols <= index[1] + 1) {\n              scrollTo((viewport.first.cols + 1) * itemSize, viewport.first.rows * itemSize);\n            }\n          } else {\n            if (viewport.last - first <= index + 1) {\n              var _pos2 = (viewport.first + 1) * itemSize;\n\n              isHorizontal ? scrollTo(_pos2, 0) : scrollTo(0, _pos2);\n            }\n          }\n        }\n      } else {\n        this.scrollToIndex(index, behavior);\n      }\n    }\n  }, {\n    key: \"getRows\",\n    value: function getRows() {\n      return this.state.loading ? this.props.loaderDisabled ? this.state.loaderArr : [] : this.loadedItems();\n    }\n  }, {\n    key: \"getColumns\",\n    value: function getColumns() {\n      if (this.props.columns) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n\n        if (isBoth || isHorizontal) {\n          return this.state.loading && this.props.loaderDisabled ? isBoth ? this.state.loaderArr[0] : this.state.loaderArr : this.props.columns.slice(isBoth ? this.state.first.cols : this.state.first, isBoth ? this.state.last.cols : this.state.last);\n        }\n      }\n\n      return this.props.columns;\n    }\n  }, {\n    key: \"getRenderedRange\",\n    value: function getRenderedRange() {\n      var isBoth = this.isBoth();\n      var isHorizontal = this.isHorizontal();\n      var _this$state = this.state,\n          first = _this$state.first,\n          last = _this$state.last,\n          numItemsInViewport = _this$state.numItemsInViewport;\n      var itemSize = this.props.itemSize;\n\n      var calculateFirstInViewport = function calculateFirstInViewport(_pos, _size) {\n        return Math.floor(_pos / (_size || _pos));\n      };\n\n      var firstInViewport = first;\n      var lastInViewport = 0;\n\n      if (this.el) {\n        var scrollTop = this.el.scrollTop;\n        var scrollLeft = this.el.scrollLeft;\n\n        if (isBoth) {\n          firstInViewport = {\n            rows: calculateFirstInViewport(scrollTop, itemSize[0]),\n            cols: calculateFirstInViewport(scrollLeft, itemSize[1])\n          };\n          lastInViewport = {\n            rows: firstInViewport.rows + numItemsInViewport.rows,\n            cols: firstInViewport.cols + numItemsInViewport.cols\n          };\n        } else {\n          var scrollPos = isHorizontal ? scrollLeft : scrollTop;\n          firstInViewport = calculateFirstInViewport(scrollPos, itemSize);\n          lastInViewport = firstInViewport + numItemsInViewport;\n        }\n      }\n\n      return {\n        first: first,\n        last: last,\n        viewport: {\n          first: firstInViewport,\n          last: lastInViewport\n        }\n      };\n    }\n  }, {\n    key: \"isVertical\",\n    value: function isVertical() {\n      return this.props.orientation === 'vertical';\n    }\n  }, {\n    key: \"isHorizontal\",\n    value: function isHorizontal() {\n      return this.props.orientation === 'horizontal';\n    }\n  }, {\n    key: \"isBoth\",\n    value: function isBoth() {\n      return this.props.orientation === 'both';\n    }\n  }, {\n    key: \"calculateOptions\",\n    value: function calculateOptions() {\n      var _this4 = this;\n\n      var isBoth = this.isBoth();\n      var isHorizontal = this.isHorizontal();\n      var first = this.state.first;\n      var itemSize = this.props.itemSize;\n      var contentPos = this.getContentPosition();\n      var contentWidth = this.el ? this.el.offsetWidth - contentPos.left : 0;\n      var contentHeight = this.el ? this.el.offsetHeight - contentPos.top : 0;\n\n      var calculateNumItemsInViewport = function calculateNumItemsInViewport(_contentSize, _itemSize) {\n        return Math.ceil(_contentSize / (_itemSize || _contentSize));\n      };\n\n      var calculateNumToleratedItems = function calculateNumToleratedItems(_numItems) {\n        return Math.ceil(_numItems / 2);\n      };\n\n      var numItemsInViewport = isBoth ? {\n        rows: calculateNumItemsInViewport(contentHeight, itemSize[0]),\n        cols: calculateNumItemsInViewport(contentWidth, itemSize[1])\n      } : calculateNumItemsInViewport(isHorizontal ? contentWidth : contentHeight, itemSize);\n      var numToleratedItems = this.state.numToleratedItems || (isBoth ? [calculateNumToleratedItems(numItemsInViewport.rows), calculateNumToleratedItems(numItemsInViewport.cols)] : calculateNumToleratedItems(numItemsInViewport));\n\n      var calculateLast = function calculateLast(_first, _num, _numT, _isCols) {\n        return _this4.getLast(_first + _num + (_first < _numT ? 2 : 3) * _numT, _isCols);\n      };\n\n      var last = isBoth ? {\n        rows: calculateLast(first.rows, numItemsInViewport.rows, numToleratedItems[0]),\n        cols: calculateLast(first.cols, numItemsInViewport.cols, numToleratedItems[1], true)\n      } : calculateLast(first, numItemsInViewport, numToleratedItems);\n      var state = {\n        numItemsInViewport: numItemsInViewport,\n        last: last,\n        numToleratedItems: numToleratedItems\n      };\n\n      if (this.props.showLoader) {\n        state['loaderArr'] = isBoth ? Array.from({\n          length: numItemsInViewport.rows\n        }).map(function () {\n          return Array.from({\n            length: numItemsInViewport.cols\n          });\n        }) : Array.from({\n          length: numItemsInViewport\n        });\n      }\n\n      this.setState(state, function () {\n        if (_this4.props.lazy) {\n          _this4.props.onLazyLoad && _this4.props.onLazyLoad({\n            first: _this4.state.first,\n            last: _this4.state.last\n          });\n        }\n      });\n    }\n  }, {\n    key: \"getLast\",\n    value: function getLast() {\n      var last = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var isCols = arguments.length > 1 ? arguments[1] : undefined;\n\n      if (this.props.items) {\n        return Math.min(isCols ? (this.props.columns || this.props.items[0]).length : this.props.items.length, last);\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"getContentPosition\",\n    value: function getContentPosition() {\n      if (this.content) {\n        var style = getComputedStyle(this.content);\n        var left = parseInt(style.paddingLeft, 10) + Math.max(parseInt(style.left, 10), 0);\n        var right = parseInt(style.paddingRight, 10) + Math.max(parseInt(style.right, 10), 0);\n        var top = parseInt(style.paddingTop, 10) + Math.max(parseInt(style.top, 10), 0);\n        var bottom = parseInt(style.paddingBottom, 10) + Math.max(parseInt(style.bottom, 10), 0);\n        return {\n          left: left,\n          right: right,\n          top: top,\n          bottom: bottom,\n          x: left + right,\n          y: top + bottom\n        };\n      }\n\n      return {\n        left: 0,\n        right: 0,\n        top: 0,\n        bottom: 0,\n        x: 0,\n        y: 0\n      };\n    }\n  }, {\n    key: \"setSize\",\n    value: function setSize() {\n      var _this5 = this;\n\n      if (this.el) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n        var parentElement = this.el.parentElement;\n        var width = this.props.scrollWidth || \"\".concat(this.el.offsetWidth || parentElement.offsetWidth, \"px\");\n        var height = this.props.scrollHeight || \"\".concat(this.el.offsetHeight || parentElement.offsetHeight, \"px\");\n\n        var setProp = function setProp(_name, _value) {\n          return _this5.el.style[_name] = _value;\n        };\n\n        if (isBoth || isHorizontal) {\n          setProp('height', height);\n          setProp('width', width);\n        } else {\n          setProp('height', height);\n        }\n      }\n    }\n  }, {\n    key: \"setSpacerSize\",\n    value: function setSpacerSize() {\n      var _this6 = this;\n\n      var items = this.props.items;\n\n      if (this.spacer && items) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n        var itemSize = this.props.itemSize;\n        var contentPos = this.getContentPosition();\n\n        var setProp = function setProp(_name, _value, _size) {\n          var _cpos = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n          return _this6.spacer.style[_name] = (_value || []).length * _size + _cpos + 'px';\n        };\n\n        if (isBoth) {\n          setProp('height', items, itemSize[0], contentPos.y);\n          setProp('width', this.props.columns || items[1], itemSize[1], contentPos.x);\n        } else {\n          isHorizontal ? setProp('width', this.props.columns || items, itemSize, contentPos.x) : setProp('height', items, itemSize, contentPos.y);\n        }\n      }\n    }\n  }, {\n    key: \"setContentPosition\",\n    value: function setContentPosition(pos) {\n      var _this7 = this;\n\n      if (this.content) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n        var first = pos ? pos.first : this.state.first;\n        var itemSize = this.props.itemSize;\n\n        var calculateTranslateVal = function calculateTranslateVal(_first, _size) {\n          return _first * _size;\n        };\n\n        var setTransform = function setTransform() {\n          var _x = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n          var _y = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n          _this7.sticky && (_this7.sticky.style.top = \"-\".concat(_y, \"px\"));\n          _this7.content.style.transform = \"translate3d(\".concat(_x, \"px, \").concat(_y, \"px, 0)\");\n        };\n\n        if (isBoth) {\n          setTransform(calculateTranslateVal(first.cols, itemSize[1]), calculateTranslateVal(first.rows, itemSize[0]));\n        } else {\n          var translateVal = calculateTranslateVal(first, itemSize);\n          isHorizontal ? setTransform(translateVal, 0) : setTransform(0, translateVal);\n        }\n      }\n    }\n  }, {\n    key: \"onScrollPositionChange\",\n    value: function onScrollPositionChange(event) {\n      var _this8 = this;\n\n      var target = event.target;\n      var isBoth = this.isBoth();\n      var isHorizontal = this.isHorizontal();\n      var _this$state2 = this.state,\n          first = _this$state2.first,\n          last = _this$state2.last,\n          numItemsInViewport = _this$state2.numItemsInViewport,\n          numToleratedItems = _this$state2.numToleratedItems;\n      var itemSize = this.props.itemSize;\n      var contentPos = this.getContentPosition();\n\n      var calculateScrollPos = function calculateScrollPos(_pos, _cpos) {\n        return _pos ? _pos > _cpos ? _pos - _cpos : _pos : 0;\n      };\n\n      var calculateCurrentIndex = function calculateCurrentIndex(_pos, _size) {\n        return Math.floor(_pos / (_size || _pos));\n      };\n\n      var calculateTriggerIndex = function calculateTriggerIndex(_currentIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\n        return _currentIndex <= _numT ? _numT : _isScrollDownOrRight ? _last - _num - _numT : _first + _numT - 1;\n      };\n\n      var calculateFirst = function calculateFirst(_currentIndex, _triggerIndex, _first, _last, _num, _numT, _isScrollDownOrRight) {\n        if (_currentIndex <= _numT) return 0;else return _isScrollDownOrRight ? _currentIndex < _triggerIndex ? _first : _currentIndex - _numT : _currentIndex > _triggerIndex ? _first : _currentIndex - 2 * _numT;\n      };\n\n      var calculateLast = function calculateLast(_currentIndex, _first, _last, _num, _numT, _isCols) {\n        var lastValue = _first + _num + 2 * _numT;\n\n        if (_currentIndex >= _numT) {\n          lastValue += _numT + 1;\n        }\n\n        return _this8.getLast(lastValue, _isCols);\n      };\n\n      var scrollTop = calculateScrollPos(target.scrollTop, contentPos.top);\n      var scrollLeft = calculateScrollPos(target.scrollLeft, contentPos.left);\n      var newFirst = 0;\n      var newLast = last;\n      var isRangeChanged = false;\n\n      if (isBoth) {\n        var isScrollDown = this.lastScrollPos.top <= scrollTop;\n        var isScrollRight = this.lastScrollPos.left <= scrollLeft;\n        var currentIndex = {\n          rows: calculateCurrentIndex(scrollTop, itemSize[0]),\n          cols: calculateCurrentIndex(scrollLeft, itemSize[1])\n        };\n        var triggerIndex = {\n          rows: calculateTriggerIndex(currentIndex.rows, first.rows, last.rows, numItemsInViewport.rows, numToleratedItems[0], isScrollDown),\n          cols: calculateTriggerIndex(currentIndex.cols, first.cols, last.cols, numItemsInViewport.cols, numToleratedItems[1], isScrollRight)\n        };\n        newFirst = {\n          rows: calculateFirst(currentIndex.rows, triggerIndex.rows, first.rows, last.rows, numItemsInViewport.rows, numToleratedItems[0], isScrollDown),\n          cols: calculateFirst(currentIndex.cols, triggerIndex.cols, first.cols, last.cols, numItemsInViewport.cols, numToleratedItems[1], isScrollRight)\n        };\n        newLast = {\n          rows: calculateLast(currentIndex.rows, newFirst.rows, last.rows, numItemsInViewport.rows, numToleratedItems[0]),\n          cols: calculateLast(currentIndex.cols, newFirst.cols, last.cols, numItemsInViewport.cols, numToleratedItems[1], true)\n        };\n        isRangeChanged = newFirst.rows !== first.rows && newLast.rows !== last.rows || newFirst.cols !== first.cols && newLast.cols !== last.cols;\n        this.lastScrollPos = {\n          top: scrollTop,\n          left: scrollLeft\n        };\n      } else {\n        var scrollPos = isHorizontal ? scrollLeft : scrollTop;\n        var isScrollDownOrRight = this.lastScrollPos <= scrollPos;\n\n        var _currentIndex2 = calculateCurrentIndex(scrollPos, itemSize);\n\n        var _triggerIndex2 = calculateTriggerIndex(_currentIndex2, first, last, numItemsInViewport, numToleratedItems, isScrollDownOrRight);\n\n        newFirst = calculateFirst(_currentIndex2, _triggerIndex2, first, last, numItemsInViewport, numToleratedItems, isScrollDownOrRight);\n        newLast = calculateLast(_currentIndex2, newFirst, last, numItemsInViewport, numToleratedItems);\n        isRangeChanged = newFirst !== first && newLast !== last;\n        this.lastScrollPos = scrollPos;\n      }\n\n      return {\n        first: newFirst,\n        last: newLast,\n        isRangeChanged: isRangeChanged\n      };\n    }\n  }, {\n    key: \"onScrollChange\",\n    value: function onScrollChange(event) {\n      var _this9 = this;\n\n      var _this$onScrollPositio = this.onScrollPositionChange(event),\n          first = _this$onScrollPositio.first,\n          last = _this$onScrollPositio.last,\n          isRangeChanged = _this$onScrollPositio.isRangeChanged;\n\n      if (isRangeChanged) {\n        var newState = {\n          first: first,\n          last: last\n        };\n        this.setContentPosition(newState);\n        this.setState(newState, function () {\n          _this9.props.onScrollIndexChange && _this9.props.onScrollIndexChange(newState);\n\n          if (_this9.props.lazy) {\n            _this9.props.onLazyLoad && _this9.props.onLazyLoad(newState);\n          }\n        });\n      }\n    }\n  }, {\n    key: \"onScroll\",\n    value: function onScroll(event) {\n      var _this10 = this;\n\n      this.props.onScroll && this.props.onScroll(event);\n\n      if (this.props.delay) {\n        if (this.scrollTimeout) {\n          clearTimeout(this.scrollTimeout);\n        }\n\n        if (!this.state.loading && this.props.showLoader) {\n          var _this$onScrollPositio2 = this.onScrollPositionChange(event),\n              changed = _this$onScrollPositio2.isRangeChanged;\n\n          changed && this.setState({\n            loading: true\n          });\n        }\n\n        this.scrollTimeout = setTimeout(function () {\n          _this10.onScrollChange(event);\n\n          if (_this10.state.loading && _this10.props.showLoader && !_this10.props.lazy) {\n            _this10.setState({\n              loading: false\n            });\n          }\n        }, this.props.delay);\n      } else {\n        this.onScrollChange(event);\n      }\n    }\n  }, {\n    key: \"getOptions\",\n    value: function getOptions(renderedIndex) {\n      var first = this.state.first;\n      var count = (this.props.items || []).length;\n      var index = this.isBoth() ? first.rows + renderedIndex : first + renderedIndex;\n      return {\n        index: index,\n        count: count,\n        first: index === 0,\n        last: index === count - 1,\n        even: index % 2 === 0,\n        odd: index % 2 !== 0,\n        props: this.props\n      };\n    }\n  }, {\n    key: \"loaderOptions\",\n    value: function loaderOptions(index, extOptions) {\n      var count = this.state.loaderArr.length;\n      return _objectSpread({\n        index: index,\n        count: count,\n        first: index === 0,\n        last: index === count - 1,\n        even: index % 2 === 0,\n        odd: index % 2 !== 0,\n        props: this.props\n      }, extOptions);\n    }\n  }, {\n    key: \"loadedItems\",\n    value: function loadedItems() {\n      var _this11 = this;\n\n      var items = this.props.items;\n\n      if (items && !this.state.loading) {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n        var _this$state3 = this.state,\n            first = _this$state3.first,\n            last = _this$state3.last;\n        if (isBoth) return items.slice(first.rows, last.rows).map(function (item) {\n          return _this11.props.columns ? item : item.slice(first.cols, last.cols);\n        });else if (isHorizontal && this.props.columns) return items;else return items.slice(first, last);\n      }\n\n      return [];\n    }\n  }, {\n    key: \"init\",\n    value: function init() {\n      this.setSize();\n      this.calculateOptions();\n      this.setSpacerSize();\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.init();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (!ObjectUtils.equals(prevProps.itemSize, this.props.itemSize) || !prevProps.items || prevProps.items.length !== (this.props.items || []).length) {\n        this.init();\n      }\n\n      if (this.props.lazy && prevProps.loading !== this.props.loading && this.state.loading !== this.props.loading) {\n        this.setState({\n          loading: this.props.loading\n        });\n      }\n\n      if (prevProps.orientation !== this.props.orientation) {\n        this.lastScrollPos = this.isBoth() ? {\n          top: 0,\n          left: 0\n        } : 0;\n      }\n    }\n  }, {\n    key: \"renderLoaderItem\",\n    value: function renderLoaderItem(index) {\n      var extOptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var options = this.loaderOptions(index, extOptions);\n      var content = ObjectUtils.getJSXElement(this.props.loadingTemplate, options);\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        key: index\n      }, content);\n    }\n  }, {\n    key: \"renderLoader\",\n    value: function renderLoader() {\n      var _this12 = this;\n\n      if (!this.props.loaderDisabled && this.props.showLoader && this.state.loading) {\n        var className = classNames('p-virtualscroller-loader', {\n          'p-component-overlay': !this.props.loadingTemplate\n        });\n        var content = /*#__PURE__*/React.createElement(\"i\", {\n          className: \"p-virtualscroller-loading-icon pi pi-spinner pi-spin\"\n        });\n\n        if (this.props.loadingTemplate) {\n          var isBoth = this.isBoth();\n          var numItemsInViewport = this.state.numItemsInViewport;\n          content = this.state.loaderArr.map(function (_, index) {\n            return _this12.renderLoaderItem(index, isBoth && {\n              numCols: numItemsInViewport.cols\n            });\n          });\n        }\n\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: className\n        }, content);\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderSpacer\",\n    value: function renderSpacer() {\n      var _this13 = this;\n\n      if (this.props.showSpacer) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          ref: function ref(el) {\n            return _this13.spacer = el;\n          },\n          className: \"p-virtualscroller-spacer\"\n        });\n      }\n\n      return null;\n    }\n  }, {\n    key: \"renderItem\",\n    value: function renderItem(item, index) {\n      var options = this.getOptions(index);\n      var content = ObjectUtils.getJSXElement(this.props.itemTemplate, item, options);\n      return /*#__PURE__*/React.createElement(React.Fragment, {\n        key: options.index\n      }, content);\n    }\n  }, {\n    key: \"renderItems\",\n    value: function renderItems(loadedItems) {\n      var _this14 = this;\n\n      return loadedItems.map(function (item, index) {\n        return _this14.renderItem(item, index);\n      });\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent() {\n      var _this15 = this;\n\n      var loadedItems = this.loadedItems();\n      var items = this.renderItems(loadedItems);\n      var className = classNames('p-virtualscroller-content', {\n        'p-virtualscroller-loading': this.state.loading\n      });\n      var content = /*#__PURE__*/React.createElement(\"div\", {\n        className: className,\n        ref: function ref(el) {\n          return _this15.content = el;\n        }\n      }, items);\n\n      if (this.props.contentTemplate) {\n        var defaultOptions = {\n          className: className,\n          contentRef: function contentRef(el) {\n            return _this15.content = el;\n          },\n          spacerRef: function spacerRef(el) {\n            return _this15.spacer = el;\n          },\n          stickyRef: function stickyRef(el) {\n            return _this15.sticky = el;\n          },\n          items: loadedItems,\n          getItemOptions: function getItemOptions(index) {\n            return _this15.getOptions(index);\n          },\n          children: items,\n          element: content,\n          props: this.props,\n          loading: this.state.loading,\n          getLoaderOptions: function getLoaderOptions(index, ext) {\n            return _this15.loaderOptions(index, ext);\n          },\n          loadingTemplate: this.props.loadingTemplate,\n          itemSize: this.props.itemSize,\n          rows: this.getRows(),\n          columns: this.getColumns(),\n          vertical: this.isVertical(),\n          horizontal: this.isHorizontal(),\n          both: this.isBoth()\n        };\n        return ObjectUtils.getJSXElement(this.props.contentTemplate, defaultOptions);\n      }\n\n      return content;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this16 = this;\n\n      if (this.props.disabled) {\n        var content = ObjectUtils.getJSXElement(this.props.contentTemplate, {\n          items: this.props.items,\n          rows: this.props.items,\n          columns: this.props.columns\n        });\n        return /*#__PURE__*/React.createElement(React.Fragment, null, this.props.children, content);\n      } else {\n        var isBoth = this.isBoth();\n        var isHorizontal = this.isHorizontal();\n        var className = classNames('p-virtualscroller', {\n          'p-both-scroll': isBoth,\n          'p-horizontal-scroll': isHorizontal\n        }, this.props.className);\n        var loader = this.renderLoader();\n\n        var _content = this.renderContent();\n\n        var spacer = this.renderSpacer();\n        return /*#__PURE__*/React.createElement(\"div\", {\n          ref: function ref(el) {\n            return _this16.el = el;\n          },\n          className: className,\n          tabIndex: 0,\n          style: this.props.style,\n          onScroll: this.onScroll\n        }, _content, spacer, loader);\n      }\n    }\n  }]);\n\n  return VirtualScroller;\n}(Component);\n\n_defineProperty(VirtualScroller, \"defaultProps\", {\n  id: null,\n  style: null,\n  className: null,\n  items: null,\n  itemSize: 0,\n  scrollHeight: null,\n  scrollWidth: null,\n  orientation: 'vertical',\n  numToleratedItems: null,\n  delay: 0,\n  lazy: false,\n  disabled: false,\n  loaderDisabled: false,\n  columns: null,\n  loading: false,\n  showSpacer: true,\n  showLoader: false,\n  loadingTemplate: null,\n  itemTemplate: null,\n  contentTemplate: null,\n  onScroll: null,\n  onScrollIndexChange: null,\n  onLazyLoad: null\n});\n\nexport { VirtualScroller };\n"]},"metadata":{},"sourceType":"module"}